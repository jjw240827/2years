<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
         version="4.0">

    <context-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>/WEB-INF/root-context.xml</param-value>
    </context-param>

    <listener>
        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
    </listener>

    <servlet>
        <servlet-name>appServlet</servlet-name> <!-- servlet 이름 - frontservlet이다. -->
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
        <init-param> <!-- 초기화 파라미터 디스패처 서블릿이 참고할 xml의 위치를 알려준다. -->
            <param-name>contextConfigLocation</param-name>
            <param-value>/WEB-INF/servlet-context.xml</param-value>
        </init-param>

        <init-param> <!-- 사용자가 없는 주소로 들어왔을 때, 예외를 발생시켜 사용자가 예외처리를 제어할 수 있게 한다. -->
            <param-name>throwExceptionIfNoHandlerFound</param-name>
            <param-value>true</param-value> <!-- true를 설정하면 컨트롤러를 못찾을 시 NoHandlerFoundException예외를 강제로 발생시켜
            @ExceptionHandler(NoHandlerFoundException.class)가 처리할 수 있게 된다. -->
        </init-param>


        <load-on-startup>1</load-on-startup> <!-- 서블릿을 톰켓 서버가 시작되는 즉시 메모리에 올리라는 명령 -->
    </servlet>
	
    <servlet-mapping>
        <servlet-name>appServlet</servlet-name>
        <url-pattern>/</url-pattern> <!-- 모든 요청에 대해서 appServlet이 먼저 받는다. 즉 frontcontroller이다. -->
    </servlet-mapping>

	<!-- 왜 자바 코드로 frontcontroller를 만들지 않는가? 과거처럼 개발자들이 직접 httpServlet을 상속받아 만들 필요없이 이미 완성형 front
	controller인 dispatcherServlet이 존재하기 때문이다.
	또한 자바코드로 만들면 컨트롤러 경로등이 바뀔 때마다 다시 컴파일을 해야하지만 설정파일은 그럴 필요가 없다.
	비지니스 로직만 우리가 직접 만들고 관리자 역할인 frontcontroller은 가져다 쓴다. -->
  

</web-app>